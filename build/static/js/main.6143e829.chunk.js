(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{13:function(e,t,n){e.exports={auth:"AuthForm_auth__1a5dD",control:"AuthForm_control__3wj7K",actions:"AuthForm_actions__2E_Yf",toggle:"AuthForm_toggle__3QXqi"}},17:function(e,t,n){e.exports={form:"ProfileForm_form__10rgT",control:"ProfileForm_control__1NhGO",action:"ProfileForm_action__2cy7W"}},21:function(e,t,n){e.exports={header:"MainNavigation_header__3fJ2S",logo:"MainNavigation_logo__1i0T_",active:"MainNavigation_active__1pDuy"}},25:function(e,t,n){e.exports={profile:"UserProfile_profile__3hoXg"}},26:function(e,t,n){e.exports={starting:"StartingPageContent_starting__2XCUY"}},32:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r,c=n(16),s=n.n(c),a=(n(32),n(8)),o=n(3),i=n(0),u=n.n(i),l=n(9),j=n(10),h=n(20),b=n(15),d=n.n(b),O=n(12),f="AIzaSyC9tRH7snIC_5CkHW70ICA07ffWosyMY8U",p=Object(O.b)("auth/signUp",function(){var e=Object(h.a)(d.a.mark((function e(t,n){var r,c,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,fetch("".concat("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=").concat(f),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return c=e.sent,e.next=7,c.json();case 7:if(s=e.sent,c.ok){e.next=12;break}throw a="Authentciation failed",s&&s.error&&s.error.message&&(a=s.error.message),new Error(a);case 12:return e.abrupt("return",s);case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}()),x=Object(O.b)("auth/signIn",function(){var e=Object(h.a)(d.a.mark((function e(t,n){var r,c,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,fetch("".concat("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=").concat(f),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return c=e.sent,e.next=7,c.json();case 7:if(s=e.sent,c.ok){e.next=12;break}throw a="Authentciation failed",s&&s.error&&s.error.message&&(a=s.error.message),new Error(a);case 12:return e.abrupt("return",s);case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}()),g={isAuth:JSON.parse(localStorage.getItem("authen"))||!1,user:null,status:null,error:null},m=function(e,t){e.status="rejected",e.error=t.payload},_=Object(O.c)({name:"auth",initialState:g,reducers:{logout:function(e){e.isAuth=!1}},extraReducers:(r={},Object(j.a)(r,p.pending,(function(e){e.status="loading"})),Object(j.a)(r,p.fulfilled,(function(e,t){e.status="succes",e.user=t.payload,e.isAuth=!0})),Object(j.a)(r,p.rejected,m),Object(j.a)(r,x.pending,(function(e){e.status="loading"})),Object(j.a)(r,x.fulfilled,(function(e,t){e.status="succes",e.user=t.payload,e.isAuth=!0})),Object(j.a)(r,x.rejected,m),r)}),v=_.actions,w=_,y=n(21),N=n.n(y),S=n(1),A=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth})).isAuth;return Object(i.useEffect)((function(){localStorage.setItem("authen",JSON.stringify(t))}),[t]),Object(S.jsxs)("header",{className:N.a.header,children:[Object(S.jsx)(a.b,{to:"/",children:Object(S.jsx)("div",{className:N.a.logo,children:"React Auth"})}),Object(S.jsx)("nav",{children:Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:Object(S.jsx)(a.b,{to:"/home",activeStyle:{color:"#c291e2"},children:"Home"})}),!t&&Object(S.jsx)("li",{children:Object(S.jsx)(a.b,{to:"/auth",activeStyle:{color:"#c291e2"},children:"Login"})}),Object(S.jsx)("li",{children:Object(S.jsx)(a.b,{to:"/profile",activeStyle:{color:"#c291e2"},children:"Profile"})}),t&&Object(S.jsx)("li",{children:Object(S.jsx)("button",{onClick:function(){return e(v.logout())},children:"Logout"})})]})})]})},k=function(e){return Object(S.jsxs)(i.Fragment,{children:[Object(S.jsx)(A,{}),Object(S.jsx)("main",{children:e.children})]})},P=n(17),C=n.n(P),F=function(){return Object(S.jsxs)("form",{className:C.a.form,children:[Object(S.jsxs)("div",{className:C.a.control,children:[Object(S.jsx)("label",{htmlFor:"new-password",children:"New Password"}),Object(S.jsx)("input",{type:"password",id:"new-password"})]}),Object(S.jsx)("div",{className:C.a.action,children:Object(S.jsx)("button",{children:"Change Password"})})]})},I=n(25),E=n.n(I),J=function(){return Object(S.jsxs)("section",{className:E.a.profile,children:[Object(S.jsx)("h1",{children:"Your User Profile"}),Object(S.jsx)(F,{})]})},U=function(e){var t=e.children;return Object(l.c)((function(e){return e.auth})).isAuth?Object(S.jsx)(u.a.Fragment,{children:t}):Object(S.jsx)(o.a,{to:"/auth"})},W=n(27),T=n(13),Y=n.n(T),L=function(){var e=Object(o.g)(),t=Object(l.c)((function(e){return e.auth})),n=t.isAuth,r=t.status,c=t.error,s=Object(i.useState)(!0),a=Object(W.a)(s,2),u=a[0],j=a[1],h=Object(l.b)(),b=Object(i.useRef)(),d=Object(i.useRef)();return Object(i.useEffect)((function(){n&&e.push("/profile")}),[n]),Object(S.jsxs)("section",{className:Y.a.auth,children:[Object(S.jsx)("h1",{children:u?"Login":"Sign Up"}),Object(S.jsx)("strong",{children:c}),Object(S.jsx)("br",{}),c&&Object(S.jsx)("br",{}),Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=b.current.value,n=d.current.value;h(u?x({email:t,password:n}):p({email:t,password:n}))},children:[Object(S.jsxs)("div",{className:Y.a.control,children:[Object(S.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(S.jsx)("input",{ref:b,type:"email",id:"email",required:!0})]}),Object(S.jsxs)("div",{className:Y.a.control,children:[Object(S.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(S.jsx)("input",{ref:d,type:"password",id:"password",required:!0})]}),Object(S.jsxs)("div",{className:Y.a.actions,children:["loading"!==r&&Object(S.jsx)("button",{children:u?"Login":"Create Account"}),"loading"===r&&Object(S.jsx)("p",{children:"Pending request..."}),Object(S.jsx)("button",{type:"button",className:Y.a.toggle,onClick:function(){j((function(e){return!e}))},children:u?"Create new account":"Login with existing account"})]})]})]})},R=function(){return Object(S.jsx)(L,{})},q=n(26),M=n.n(q),D=function(){return Object(S.jsx)("section",{className:M.a.starting,children:Object(S.jsx)("h1",{children:"Welcome on Board!"})})},H=function(){return Object(S.jsx)(D,{})};var X=function(){return Object(S.jsx)(a.a,{children:Object(S.jsx)(k,{children:Object(S.jsxs)(o.d,{children:[Object(S.jsx)(o.b,{path:"/",exact:!0,children:Object(S.jsx)(o.a,{to:"/home"})}),Object(S.jsx)(o.b,{path:"/home",exact:!0,children:Object(S.jsx)(H,{})}),Object(S.jsx)(o.b,{path:"/auth",children:Object(S.jsx)(R,{})}),Object(S.jsx)(o.b,{path:"/profile",children:Object(S.jsx)(U,{children:Object(S.jsx)(J,{})})})]})})})},B=Object(O.a)({reducer:{auth:w.reducer}});s.a.render(Object(S.jsx)(l.a,{store:B,children:Object(S.jsx)(X,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.6143e829.chunk.js.map